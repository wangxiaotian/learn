<!DOCTYPE html>
<html>
	<head>
		<title>table表格组件</title>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
		<link rel="stylesheet" href="demo.css">
	</head>
	<body>
		<div class="form">
			名称: <input type="text" name="gname"> 
			default: <input type="text" name="default" value="123"> <a href="#" id="search">search</a>
		</div>
		<div id="tab-list" ajaxurl="list.json">
			loading...
		</div>
		<div id="pager"></div>
		<div class="form">
			名称: <input type="text" name="gname"> 
			default: <input type="text" name="default" value="abc"> <a href="#" id="search2">search</a>
		</div>
		<div id="tab-list2" ajaxurl="list.json">
			loading...
		</div>
		<div id="pager2"></div>
		<script type="text/javascript" src="../src/jquery-1.11.2.js"></script>
		<script type="text/javascript" src="../src/handlebars-v3.0.0.js"></script>
		<script type="text/javascript" src="../src/query.js"></script>
		<script type="text/javascript" src="../src/paging.js"></script>
		<script type="text/javascript" src="../src/dialog.js"></script>
		<script type="text/javascript" src="../src/table.js"></script>
		<link rel="stylesheet" href="../dest/table.css">
		<!-- <script src="../dest/table.js"></script> -->
		<script type="text/x-handlebars-template" id="tpl-list">
			<table class="tab-list">
					<thead>
							<tr>
									<th class="first-cell">序号</th>
									<th>商品条码</th>
									<th>商品名称</th>
									<th>状态</th>
									<th>操作</th>
							</tr>
					</thead>
					<tbody>
							{{#each data}}
							<tr>
									<td class="first-cell">{{@index}}</td>
									<td>{{goods_bn}}</td>
									<td>{{goods_name}}</td>
									<td>上架</td>
									<td><a class="js-ajax" confirm-msg="是否确认下架?" js-ajax-param="id={{goods_id}}" href="action.json">下架</a> <a class="js-delegate-delete" href="action.json">删除</a>
										<a href="index.html?id={{goods_id}}">链接</a>
									</td>
							</tr>
							{{/each}}
					</tbody>
			</table>
		</script>

		<script>
		var table = new Table($('#tab-list'), $('#tpl-list'), $('#pager'), {}, $('#search'));
		table.init({type:'get'});
		var table = new Table($('#tab-list2'), $('#tpl-list'), $('#pager2'), {}, $('#search2'));
		table.init({type:'get',hash:false});
		</script>

	</body>
</html>