<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Generator函数</title>
</head>

<body>
    <h3>先看一段代码</h3>
    <pre>function asnycJob() {
  // ...其他代码
  var f = yield readFile(fileA);
  // ...其他代码
   }</pre>
   <p>
       上面代码的函数 asyncJob 是一个协程，它的奥妙就在其中的 yield 命令。它表示执行到此处，执行权将交给其他协程。也就是说，yield命令是异步两个阶段的分界线。
协程遇到 yield 命令就暂停，等到执行权返回，再从暂停的地方继续往后执行。它的最大优点，就是代码的写法非常像同步操作，如果去除yield命令，简直一模一样。
   </p>
   <h3>Generator函数概念</h3>
   <p>Generator 函数是协程在 ES6 的实现，最大特点就是可以交出函数的执行权（即暂停执行）。</p>
   <pre>
   	    function* gen(x){
        var y = yield x + 2;
            return y;
        }
   </pre>
   <p>上面代码就是一个 Generator 函数。它不同于普通函数，是可以暂停执行的，所以函数名之前要加星号，以示区别。
整个 Generator 函数就是一个封装的异步任务，或者说是异步任务的容器。异步操作需要暂停的地方，都用 yield 语句注明。</p>
</body>

</html>
